# src 目录

这个目录包含 sui-move-js 的 Rust 部分源代码，是编译和反汇编功能的核心实现。

## 目录结构

- `cli.rs` - 命令行接口定义，包含构建和反汇编命令的参数定义
- `lib.rs` - 库的主要实现，包含核心编译和反汇编功能
- `main.rs` - 主程序入口，处理命令行参数并调用相应的功能
- `targets/` - 编译目标的实现，如 Sui 区块链
- `utils/` - 工具函数和辅助方法

## 功能概述

### 编译功能

`lib.rs` 中的 `build_package` 函数是编译 Move 代码的主要入口。它负责：

1. 收集源文件和依赖
2. 设置编译选项
3. 调用 Move 编译器
4. 输出编译目标

这个函数将 Move 源代码编译为目标字节码，支持设置不同的目标平台（如 Sui）。

### 反汇编功能

`lib.rs` 中的 `disassemble` 函数负责将 Move 字节码反汇编为可读的代码。它：

1. 读取字节码文件
2. 解析字节码
3. 创建反汇编器
4. 输出反汇编结果

### 目标平台支持

`targets` 目录包含不同目标平台的实现，目前主要支持 Sui 区块链。`Target` trait 定义了编译目标的通用接口，每个目标平台都实现了这个接口。

## 编译过程

1. 命令行参数通过 `main.rs` 解析
2. 调用 `lib.rs` 中的 `build_package` 或 `disassemble` 函数
3. 编译结果保存到目标目录中

这部分代码被编译为 WebAssembly，并通过 JavaScript API 在浏览器中使用。 